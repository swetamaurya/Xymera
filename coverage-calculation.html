<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Xymera - Operations Management System</title>
    <!-- Favicons -->
    <link href="assets/img/favicon.png" rel="icon">
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&family=Tiro+Devanagari+Hindi:ital@0;1&display=swap" rel="stylesheet">
    <!-- Vendor CSS Files -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="assets/vendor/quill/quill.snow.css" rel="stylesheet">
    <link href="assets/vendor/quill/quill.bubble.css" rel="stylesheet">
    <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
    <link href="assets/vendor/simple-datatables/style.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.14.0-beta2/css/bootstrap-select.min.css">
    <!-- Template Main CSS File -->
    <link href="assets/css/style.css" rel="stylesheet">
  </head>
  <body> 

    <!-- ======= Header ======= -->
    <div id="header-placeholder"></div>
    <!-- End Header -->
  
    <!-- ======= Sidebar ======= -->
    <div id="sidebar-placeholder"></div><!-- End Sidebar-->
  

      <main id="main" class="main">

        <section class="section dashboard dashboard-details">
          <div class="pagetitle mb-4">
            <h1>Track Employee Coverage</h1>
          </div><!-- End Page Title -->
          <div class="row">
            <div class="col-md-6">
              <div class="card shadow-sm p-3">
                <form class="row" method="post" id="coverage_form_track">
                  <div class="col-md-6  apply-validation-div">
                    <label for="slt_emp_option" class="small mb-1 mt-3 mb-2 text-secondary d-flex justify-content-between">
                      <span>Select Employee <span class="text-danger">*</span></span>
                    </label>
                    <!-- <label class="small mb-1 mt-3 mb-2 text-secondary">Select Employee</label> -->
                    <select class="form-select" id="slt_emp_option" required>
                      <option selected disabled value="" >Select Employee</option>
                    </select>
                  </div>
                  <div class="col-md-3">
                    <label class="small mb-1 mb-1  mt-3 text-secondary">From</label>
                    <input class="form-control" id="fromDateId" type="date" name="" placeholder="Select from Date">
                  </div>
                  <div class="col-md-3">
                    <label class="small mb-1 mb-1  mt-3 text-secondary">To</label>
                    <input class="form-control" id="toDateId" type="date" name="" placeholder="Select from Date">
                  </div>
                  <div class="col-md-12">
                      <div class=" border p-3 rounded mt-4">
                      <label class="small pe-4 text-secondary">Select Your Prefrence</label>
                     
                    <div class="form-check mb-0 form-check-inline">
                      <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="All" checked>
                      <label class="form-check-label" for="inlineRadio1">All</label>
                  </div>
                  <div class="form-check mb-0 form-check-inline">
                      <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="Doctor">
                      <label class="form-check-label" for="inlineRadio2">Doctor</label>
                  </div>
                  <div class="form-check mb-0 form-check-inline">
                      <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio3" value="Chemist">
                      <label class="form-check-label" for="inlineRadio3">Chemist</label>
                  </div>
                  
                  
                  
                  </div>
                  </div>
                  <div class="col-md-12">
                    <label for="doctorChemistSelect" class="small mb-1 mt-3 mb-2 text-secondary d-flex justify-content-between">
                        <span>Select Doctor/Chemist <span class="text-danger">*</span></span>
                    </label>
                    <select id="doctorChemistSelect" class="form-select">
                        <option selected disabled value="">Select Doctor/Chemist</option>
                    </select>
                </div>
                
                 
              

                  <div class="col-md-12">
                    <div id="error" class="text-danger mt-3"></div>
                  </div>

                  <div class="col-md-12">
                    <button type="reset" class=" mb-1 mt-4 mb-2 btn-dark btn w-100" > Clear </button>
                  </div>
                </form>
                <div class="bg-custom-primary p-4 rounded mt-4">
                  <h5 class="fs-6 text-primary"><span class="h5">Summary of <span class="h5" id="emp_name_span_tag"></span>'s Coverage</span></h5 >
                  <ul class="mt-2 mb-0">
                    <li>Total task: <span id="totalTasks"></span> </li>
                    <li>Total doctor's visit schedule: <span id="doctorVisitScheduleCount"></span> </li>
                    <li>Total doctor's visit completed: <span id="doctorVisitCompletedCount"></span> </li>
                    <li>Total chemist's visit schedule: <span id="chemistVisitScheduleCount"></span> </li>
                    <li>Total chemist's visit completed: <span id="chemistVisitCompletedCount"></span> </li>
                    <li>Doctor frequency: <span id="doctorFrequency"></span></li>
                    <li>Chemist frequency: <span id="chemistFrequency"></span></li>                  </ul>
                </div>
                 
              </div>
            </div>
            <div class="col-md-6">
              <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                <li class="nav-item" role="presentation">
                  <button class="nav-link active" id="pills-profile-tab" data-bs-toggle="pill" data-bs-target="#pills-profile" type="button" role="tab" aria-controls="pills-profile" aria-selected="false"><i class="bi bi-bar-chart-line me-2"></i> Chart View</button>
                </li>
                <li class="nav-item" role="presentation">
                  <button class="nav-link " id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-home" type="button" role="tab" aria-controls="pills-home" aria-selected="true"><i class="bi bi-table me-2"></i> Table View</button>
                </li>
              </ul>
              <div class="tab-content" id="pills-tabContent">
                <div class="tab-pane fade" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
                  <div class="card bg-white shadow-sm p-3">                    
                    <div class="d-flex align-items-center mb-3">
                        <!-- <p class="fs-5 mb-0">Sumit's Coverage</p> -->
                        <button type="button" class="btn btn-warning ms-auto" data-bs-toggle="modal" data-bs-target="#staticBackdrop"  id="viewCompleteDataButton">View Complete Data</button>
                    </div>
                 
                    <table id="coverageTable" class="table datatable bg-light p-3 rounded">
                      <thead>
                          <tr>
                              <th>Date</th>
                              <th>Doctor/Chemist Name</th>
                              <th>Freq.</th>
                              <th>Matched Freq.</th>
                              <th>Per.</th>
                          </tr>
                         
                      </thead>
                      <tbody>
                          <!-- Rows will be dynamically populated -->
                          <tr class="bg-primary text-white fw-bold">
                            <td colspan="2">Total</td>
                            <td>24</td>
                            <td>8</td>
                            <td>33%</td>
                          </tr>
                      </tbody>
                      
                  </table>
                    
                    <p class="mt-2">
                      <span class="me-2"><i class="bi bi-disc-fill text-primary me-1"></i> Doctor</span>
                      <span><i class="ms-2 bi bi-disc-fill text-warning me-1"></i> Chemist</span>
                    </p>
                  </div>
                </div>
                
              <div class="tab-pane fade   show active" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">
                <div class="card p-3 pt-5 shadow-sm bg-white">
                    <h5 class="text-center mb-4">Employee Task Coverage</h5>
                    <div id="donutChart" style="min-height: 400px;"></div>
                </div>
              </div>

              </div>
              

            </div>
          </div>
        </section>
        <!-- Modal -->
        <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="staticBackdropLabel">Complete Coverage</h5>
                <button type="button" class="btn-close bg-warning text-dark  mb-3" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <table id="model_statisBackdrop" class="table datatable datatable-table bg-light p-3 rounded">
                      <thead>
                        <tr>
                          <th>Date</th>
                          <th>Doctor/Chemist Name</th>
                          <th>Freq.</th>
                          <th>Matched Freq.</th>
                          <th>Per.</th>
                        </tr>
                      </thead>
                      <tbody>
                        

                      </tbody>
                    </table>
                    <p class="mt-2">
                      <span class="me-2"><i class="bi bi-disc-fill text-primary me-1"></i> Doctor</span>
                      <span><i class="ms-2 bi bi-disc-fill text-warning me-1"></i> Chemist</span>
                    </p>
              </div>
            </div>
          </div>
        </div>
      
      </main>


    <!-- ======= Footer ======= -->
  <div id="footer-placeholder"></div>
  <!-- End Footer -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>


    <script type="module" src="./assets/custom-js/coverage-calculation.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>

    <!-- Vendor JS Files -->
    <script src="assets/vendor/apexcharts/apexcharts.min.js"></script>
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/chart.js/chart.umd.js"></script>
    <script src="assets/vendor/echarts/echarts.min.js"></script>
    <script src="assets/vendor/quill/quill.js"></script>
    <script src="assets/vendor/simple-datatables/simple-datatables.js"></script>
    <script src="assets/vendor/tinymce/tinymce.min.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.14.0-beta2/js/bootstrap-select.min.js"></script>
    
    <!-- Template Main JS File -->
    <!-- <script src="assets/js/main.js"></script> -->
    <script>
      $(document).ready(function () {
        $("#header-placeholder").load("header.html", function () {
          if ($('.toggle-sidebar-btn')) {
            $('.toggle-sidebar-btn').on('click', function (e) {
              $('body').toggleClass('toggle-sidebar');
            });
          }
        });

        $("#sidebar-placeholder").load("sidebar.html");
        $("#footer-placeholder").load("footer.html");
      });
    </script>
  </body>